<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login - Amexan Medical</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <link rel="icon" type="image/png" href="images/favicon.png" />
<link rel="shortcut icon" href="images/favicon.png" type="image/png" />

</head>
<body class="min-h-screen bg-gray-50">
 <!-- Success Message Popup -->
<div id="successPopup" 
     class="fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white font-bold px-6 py-3 rounded-lg shadow-lg z-50 hidden transition-all duration-300">
  <div class="flex items-center gap-2">
    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
    </svg>
    <span id="successMessage">Login successful!</span>
  </div>
</div>


  <div class="min-h-screen flex">
    <!-- Left Side - Login Form -->
    <div class="w-full lg:w-[45%] flex items-center justify-center px-6 py-12 bg-white">
      <div class="w-full max-w-md">
        <!-- Logo/Brand -->
        <div class="text-center mb-10">
          <h1 class="text-4xl font-black text-brandBlue mb-3 tracking-tight">AMEXAN</h1>
          <p class="text-gray-700 font-medium">Professional Healthcare Solutions</p>
        </div>

        <div class="bg-white p-8 rounded-xl shadow-xl border-2 border-gray-100">
          <h2 class="text-2xl font-bold text-center text-brandBlue mb-8 uppercase tracking-wide">Welcome Back</h2>

          <form id="loginForm" class="space-y-5">
            <div class="space-y-2">
              <label for="email" class="text-sm font-semibold text-gray-800 uppercase tracking-wide">Email Address</label>
              <input type="email" id="email" placeholder="Enter your email" required 
                     class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brandBlue focus:border-brandBlue transition-all duration-150 font-medium"/>
            </div>
            
            <div class="space-y-2">
              <label for="password" class="text-sm font-semibold text-gray-800 uppercase tracking-wide">Password</label>
              <input type="password" id="password" placeholder="Enter your password" required 
                     class="w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brandBlue focus:border-brandBlue transition-all duration-150 font-medium"/>
            </div>

            <!-- Remember Me Checkbox -->
            <div class="flex items-center justify-between">
              <label class="flex items-center">
                <input type="checkbox" id="rememberMe" class="w-4 h-4 text-brandBlue bg-gray-100 border-gray-300 rounded focus:ring-brandBlue focus:ring-2">
                <span class="ml-2 text-sm text-gray-700">Remember me</span>
              </label>
              <a href="reset.html" class="text-sm text-brandBlue hover:text-blue-800 hover:underline transition-colors">Forgot Password?</a>
            </div>

            <button type="submit" 
                    class="w-full bg-brandBlue hover:bg-blue-700 text-white py-3 rounded-lg font-bold uppercase tracking-wide transition-all duration-150 transform hover:scale-[1.01] focus:outline-none focus:ring-3 focus:ring-blue-300 shadow-lg hover:shadow-xl">
              Sign In
            </button>
          </form>

          <div class="relative my-6">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-4 bg-white text-gray-500">or continue with</span>
            </div>
          </div>

          <button id="googleSignIn" 
                  class="w-full flex justify-center items-center gap-3 bg-white border-2 border-gray-300 text-gray-800 py-3 rounded-lg hover:bg-gray-50 hover:border-brandBlue hover:shadow-lg font-semibold transition-all duration-150 transform hover:scale-[1.01]">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-5 h-5" alt="Google"/>
            Continue with Google
          </button>

          <div class="text-center mt-6">
            <p class="text-sm text-gray-600">
              Don't have an account? 
              <a href="regi.html" class="text-brandBlue hover:text-blue-800 font-medium hover:underline transition-colors">Sign up here</a>
            </p>
          </div>

          <p id="message" class="text-sm text-center mt-4 text-red-600 min-h-[20px]"></p>
        </div>
      </div>
    </div>

    <!-- Right Side - Welcome Section -->
    <div class="hidden lg:flex lg:w-[55%] relative bg-gradient-to-br from-brandBlue to-blue-900">
      <!-- Background Image Overlay -->
      <div class="absolute inset-0 bg-black bg-opacity-30"></div>
      <div class="absolute inset-0 bg-cover bg-center bg-no-repeat" 
           style="background-image: url('images/loginn.png');">
      </div>
      
      <!-- Content -->
      <div class="relative z-10 flex flex-col justify-center items-start px-12 text-white">
        <div class="max-w-lg">
          <h2 class="text-4xl font-bold mb-6">Welcome to Amexan Medical</h2>
          <p class="text-xl mb-8 leading-relaxed text-blue-100">
            Your trusted partner in healthcare excellence. Access professional medical supplies and solutions with ease.
          </p>
          
          <!-- Features List -->
          <div class="space-y-4">
            <div class="flex items-center gap-3">
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <span class="text-blue-100">Professional medical equipment</span>
            </div>
            <div class="flex items-center gap-3">
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <span class="text-blue-100">Quality healthcare supplies</span>
            </div>
            <div class="flex items-center gap-3">
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <span class="text-blue-100">Expert support & guidance</span>
            </div>
            <div class="flex items-center gap-3">
              <div class="w-2 h-2 bg-white rounded-full"></div>
              <span class="text-blue-100">Secure & reliable platform</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Bottom Pattern -->
      <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-brandBlue to-transparent"></div>
    </div>
  </div>

  <style>
    .text-brandBlue {
      color: #0000CD;
    }

    .bg-brandBlue {
      background-color: #0000CD;
    }

    /* Sharp, professional focus states */
    input:focus {
      box-shadow: 0 0 0 3px rgba(0, 0, 205, 0.1);
      border-color: #0000CD !important;
    }

    /* Sharp button hover effects */
    button:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 205, 0.3);
    }

    /* Professional checkbox styling */
    input[type="checkbox"]:checked {
      background-color: #0000CD;
      border-color: #0000CD;
    }

    input[type="checkbox"]:focus {
      ring-color: #0000CD;
      box-shadow: 0 0 0 3px rgba(0, 0, 205, 0.1);
    }

    /* Mobile responsiveness for background */
    @media (max-width: 1023px) {
      body {
        background: linear-gradient(135deg, #0000CD 0%, #0033FF 100%);
        background-attachment: fixed;
      }
      
      .min-h-screen > div:first-child {
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(15px);
        border-radius: 0;
        box-shadow: 0 8px 32px rgba(0, 0, 205, 0.1);
      }
    }

    /* Sharp, professional transitions */
    * {
      transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Enhanced focus states for accessibility */
    button:focus-visible,
    input:focus-visible,
    a:focus-visible {
      outline: 2px solid #0000CD;
      outline-offset: 2px;
    }

    /* Professional shadows */
    .shadow-xl {
      box-shadow: 0 20px 25px -5px rgba(0, 0, 205, 0.1), 0 10px 10px -5px rgba(0, 0, 205, 0.04);
    }

    /* Sharp gradient for right side */
    .bg-gradient-to-br {
      background: linear-gradient(135deg, #0000CD 0%, #0033FF 50%, #003399 100%);
    }
  </style>

  <script>
  const firebaseConfig = {
    apiKey: "AIzaSyCet4LIMVEHc8w1hrHhrFvg-Zw-9H7TN-k",
    authDomain: "bynexproject.firebaseapp.com",
    projectId: "bynexproject",
    storageBucket: "bynexproject.appspot.com",
    messagingSenderId: "667246369908",
    appId: "1:667246369908:web:1cbbbe51da7673246c8521"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const loginForm = document.getElementById("loginForm");
  const emailField = document.getElementById("email");
  const passwordField = document.getElementById("password");
  const rememberMeCheckbox = document.getElementById("rememberMe");
  const messageBox = document.getElementById("message");
  const successPopup = document.getElementById("successPopup");
  const successMessage = document.getElementById("successMessage");

  // Load saved credentials
  window.addEventListener('load', () => {
    const savedEmail = localStorage.getItem('savedEmail');
    const savedPassword = localStorage.getItem('savedPassword');
    const rememberMe = localStorage.getItem('rememberMe') === 'true';
    
    if (rememberMe && savedEmail) {
      emailField.value = savedEmail;
      rememberMeCheckbox.checked = true;
      if (savedPassword) {
        passwordField.value = savedPassword;
      }
    }
  });

  // Show success popup
  function showSuccessPopup(message = 'Login successful!') {
    successMessage.textContent = message;
    successPopup.classList.remove('hidden');
    setTimeout(() => {
      successPopup.classList.add('hidden');
    }, 3000);
  }

  // Login with email and password
  loginForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    messageBox.textContent = "";

    const email = emailField.value.trim();
    const password = passwordField.value;

    try {
      const { user } = await auth.signInWithEmailAndPassword(email, password);
      await user.reload();

      if (!user.emailVerified) {
        messageBox.textContent = "Please verify your email before logging in.";
        await auth.signOut();
        return;
      }

      // Save credentials if remember me is checked
      if (rememberMeCheckbox.checked) {
        localStorage.setItem('savedEmail', email);
        localStorage.setItem('savedPassword', password);
        localStorage.setItem('rememberMe', 'true');
      } else {
        localStorage.removeItem('savedEmail');
        localStorage.removeItem('savedPassword');
        localStorage.removeItem('rememberMe');
      }

      showSuccessPopup('Login successful! Redirecting...');
      setTimeout(() => {
        if (email === "amgamiga1@gmail.com" && password === "admin@123") {
          window.location.href = "admindashboard.html";
        } else {
          window.location.href = "dashboard.html";
        }
      }, 1000);
    } catch (error) {
      messageBox.textContent = error.message;
    }
  });

  // Forgot Password
  document.querySelector('a[href="reset.html"]').addEventListener("click", (e) => {
    e.preventDefault();
    const email = emailField.value.trim();
    if (!email) {
      messageBox.textContent = "Please enter your email above to reset password.";
      return;
    }

    auth.sendPasswordResetEmail(email)
      .then(() => {
        messageBox.textContent = "Password reset email sent!";
        messageBox.classList.remove("text-red-600");
        messageBox.classList.add("text-green-600");
        setTimeout(() => {
          messageBox.classList.add("text-red-600");
          messageBox.classList.remove("text-green-600");
        }, 3000);
      })
      .catch((error) => {
        messageBox.textContent = error.message;
      });
  });

  // Google Sign-In
  document.getElementById("googleSignIn").addEventListener("click", async () => {
    const provider = new firebase.auth.GoogleAuthProvider();

    try {
      const result = await auth.signInWithPopup(provider);
      const user = result.user;

      await user.reload();

      showSuccessPopup('Google sign-in successful! Redirecting...');
      setTimeout(() => {
        if (user.email === "amgamiga1@gmail.com") {
          window.location.href = "admindashboard.html";
        } else {
          window.location.href = "dashboard.html";
        }
      }, 1000);
    } catch (error) {
      messageBox.textContent = error.message;
    }
  });
</script>

</body>
</html>